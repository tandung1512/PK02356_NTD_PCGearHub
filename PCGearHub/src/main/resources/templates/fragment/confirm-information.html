<!doctype html>
<html xmlns:div="http://www.thymeleaf.org" lang="en" th:replace="~{/layouts/layout :: dynamic(~{::body})}">

<head>
    <title>Xác nhận thông tin mua hàng</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

</head>

<body>
    <header>
        <!-- place navbar here -->
    </header>
    <main style="height: 1000px ; 
  font-family: Quicksand ;background-color: #fffdff;">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <h1>CỬA HÀNG PHỤ KIỆN MÁY TÍNH PCGEARHUB</h1>
                    <span>cửa hàng > xác nhận thông tin</span>
                    <h2 style="font-weight: bold;">Thông tin giao hàng :</h2>
                    <!-- ẩn thông tin id user -->
                    <div class="mb-3" style="display: none;">
                        <div type="text" class="form-control" name="" id="id" ng-model="users.id"
                            aria-describedby="helpId" placeholder="Vui lòng nhập họ và tên"> [[${#request.remoteUser}]]
                        </div>
                        <small id="helpId" class="form-text text-muted"></small>
                    </div>
                    <div class="mb-3" style="margin-top: 20px;">
                        <label for="">Tên người nhận : </label>
                        <div type="text" class="form-control" name="phoneNumber" id="phoneNumberInput"
                            aria-describedby="helpId" placeholder="Vui lòng số điện thoại"> {{ userLogged.name }}</div>
                        <small id="helpId" class="form-text text-muted"></small>
                    </div>
                    <div class="mb-3" style="margin-top: 20px;">
                        <label for="">Số điện thoại : </label>
                        <div type="text" class="form-control" name="phoneNumber" id="phoneNumberInput"
                            aria-describedby="helpId" placeholder="Vui lòng số điện thoại"> {{ userLogged.phone }}</div>
                        <small id="helpId" class="form-text text-muted"></small>
                    </div> <br>
                    <label for="">Chọn vị trí của bạn : </label>
                    <!-- <div class=" row">
                        <div class="form-group col-md-4" >
                            <select class="form-control form-select form-select-sm" ng-model="selectedCity" ng-options="city.Id as city.Name for city in cities"   >
                                <option value="" selected>Chọn tỉnh thành</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4"  >
                            <select class="form-control" ng-model="selectedDistrict" ng-options="district.Id as district.Name for district in selectedCityDistricts">
                                <option value="" selected>Chọn quận huyện</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <select class="form-control" ng-model="selectedWard" ng-options="ward.Id as ward.Name for ward in selectedDistrictWards">
                                <option value="" selected>Chọn phường xã</option>
                            </select>
                       
                        </div>
                    </div> -->
                    <div class="row">
                        <div class="form-group col-md-4">
                            <select class="form-select form-control form-select-sm mb-3" id="city"
                                aria-label=".form-select-sm" ng-options="city as city.Name for city in cities"
                                ng-model="selectedCity">
                                <option value="" selected>Chọn tỉnh thành</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <select class="form-select form-control form-select-sm mb-3" id="district"
                                aria-label=".form-select-sm"
                                ng-options="district as district.Name for district in selectedCity.Districts"
                                ng-model="selectedDistrict">
                                <option value="" selected>Chọn quận huyện</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <select class="form-select form-control form-select-sm" id="ward"
                                aria-label=".form-select-sm"
                                ng-options="ward as ward.Name for ward in selectedDistrict.Wards"
                                ng-model="selectedWard">
                                <option value="" selected>Chọn phường xã</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3" style="margin-top: 10px;">
                        <label for="address">Nhập địa chỉ cụ thể:</label>
                        <input type="text" class="form-control" id="address" ng-model="specificAddress"
                            placeholder="Số nhà, tổ,...">
                        <small id="helpId" class="form-text text-muted"></small>
                    </div>
                    <!--ẩn Ngày  giao   -->
                    <div class="mb-3 " style="margin-top: 20px; display: none;">
                        <div> {{order.createDate | date : 'dd-MM-yyyy'}} </div>
                    </div>
                    <h3 style="font-weight: bold;">Phương thức thanh toán : </h3><br>
                    <div class="form-check">
                        <input class="form-check-input" checked type="radio" name="paymentMethod"
                            value="Thanh toán khi nhận hàng" id="thanhToanKhiNhanHang">
                        <label class="form-check-label" for="thanhToanKhiNhanHang">
                            Thanh toán khi nhận hàng
                        </label>
                    </div>
                    <br>
                    <div>
                        <div class="form-check">
                            <input class="form-check-input" data-bs-toggle="collapse" data-bs-target="#demo"
                                type="radio" name="paymentMethod" value="Thanh toán chuyển khoản"
                                id="thanhToanChuyenKhoan">
                            <label class="form-check-label" for="thanhToanChuyenKhoan" data-bs-toggle="collapse"
                                data-bs-target="#demo">
                                Thanh toán chuyển khoản
                            </label>
                        </div>
                        <br>
                        <div id="demo" class="collapse row">
                            <div class="form-check col-md-4">
                                <input class="form-check-input" type="radio" name="paymentOption" id="momoRadio" ng-model="selectedBankName" value="MoMo">
                                <label class="form-check-label" for="momoRadio">
                                    <img ng-src="/assets/Icon/MoMo.png" width="50px" height="50px">
                                </label>
                            </div>

                            <div class="form-check col-md-4">
                                <input class="form-check-input" type="radio" name="paymentOption" id="mbbankRadio" ng-model="selectedBankName" value="Mbbank">
                                <label class="form-check-label" for="mbbankRadio">
                                    <img ng-src="/assets/Icon/mbbank.png" width="100px" height="100px">
                                </label>
                            </div>
                            <div class="form-check col-md-4">
                                <input class="form-check-input" type="radio" name="paymentOption" id="vietcombankRadio" ng-model="selectedBankName" value="Vietcombank">
                                <label class="form-check-label" for="vietcombankRadio">
                                    <img ng-src="/assets/Icon/vietcombank.png" width="100px" height="100px">
                                </label>
                            </div>
                        </div>
                    </div>
                    

                    <!-- th:text="${#request.remoteUser}" -->
                    <a ng-click="order.confirm()" class="btn-login" style="margin-left: 350px;width: 300px;">Xác nhận
                        đơn hàng</a>

                </div>

                <div class="col-md-5">
                    <div class="row">
                        <div class="col-md-1">
                            <h3 style="font-weight: bold;">Ảnh</h3>
                        </div>
                        <div class="col-md-4" style="margin-left: 100px;">
                            <h3 style="font-weight: bold;">Tên sản phẩm</h3>
                        </div>
                        <div class="col-md-4">
                            <h3 style="margin-left: 30px;font-weight: bold;">Tổng tiền</h3>
                        </div>
                    </div>
                    <hr class="my-4">

                    <!-- Hiển thị thông tin từng sản phẩm đã được chọn -->
                    <div class="row" ng-repeat="item in selectedItems">
                        <div class="col-md-2">
                            <img ng-src="/assets/images/products/{{item.image1}}" width="80px" height="70px"
                                style="border-radius: 5px; margin-left: -20px;">
                        </div>
                        <div class="col-md-6" style="margin-left: 10px;">
                            <h6 style="margin-left: -50px; max-width: 300px;" class="text-black mb-0">
                                {{item.name}}
                                <br>
                                <p style="color: red;font-weight: bold; margin-top: 5px;"> Giá : {{(item.price |
                                    number:0) + 'vnđ'}} | số lượng : {{item.qty}}</p>
                            </h6>
                        </div>
                        <div class="col-md-2">
                            {{(item.qty * item.price | number:0) + 'vnđ'}}
                        </div>
                    </div>

                    <hr class="my-4">
                    <div class="row">
                        <div class="col-md-12">
                            <h2> Tổng tiền : <span
                                    style="color: red ;font-weight: bold;margin-left:100px;">{{getTotalAmountConfirm() |
                                    number:0}}vnđ</span></h2>
                        </div>
                    </div>
                    <a class="btn btn-sm" data-mdb-ripple-color="dark" th:href="@{/pcgearhub/cart}"
                        style="background-color: rgb(98, 95, 95); color: white;">Quay lại giỏ hàng</a>
                </div>

            </div>
        </div>


    </main>
    <footer>

    </footer>
    <link rel="stylesheet" th:href="@{/assets/css/login.css}">
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>
    <script>
        // Lấy URL trang hiện tại
        var currentPage = window.location.pathname;

        // Lấy phần tử <div>
        var divElement = document.querySelector('.nav-category-home');

        // Xóa lớp 'hello' nếu trang hiện tại không phải trang index
        if (currentPage !== '/') {
            divElement.classList.remove('hello');
        }

    </script>
</body>

</html>